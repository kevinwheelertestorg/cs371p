<!DOCTYPE html>
<html>
<head>
</head>
<body>
<hr />
<h3>
	Due: Thu, 6 Nov 2014, 10pm<br />
	70 pts, 7% of total grade.
</h3>
<hr />
<h3>
	Specification
</h3>
<hr />
<p>
	Write a program to simulate <b>Darwin's World</b>.
</p>
<p>
	<b>Darwin's World</b> contains a two-dimensional grid. Each square in the world can contain at most one creature.
</p>
<p>
	Each <b>creature</b> has a <b>species</b>, a <b>direction</b>, and a <b>program counter</b>.
</p>
<p>
	Each <b>species</b> has a <b>program</b> (a set of instructions).
</p>
<p>
	A creature executes the instruction indicated by the program counter. Each creature is given a turn.
</p>
<p>
	Here's an example of a creature program:
</p>
<ol start="0">
	<li>if_wall <b>3</b></li>
	<li>hop</li>
	<li>go <b>0</b></li>
	<li>left</li>
	<li>go <b>0</b></li>
</ol>
<p>
	Creatures begin executing at line <b>0</b>. There are <b>two</b> types of instructions: those which cause an <b>action</b> and those which affect the flow of <b>control</b>. Above, the only action instructions are <b>hop</b> and <b>left</b>. The rest are control instructions.
</p>
<p>
	Darwin gives each Creature a turn in a <b>left-to-right</b> and <b>top-down</b> ordering. During a turn a Creature can execute only one <b>action</b> instruction.
</p>
<p>
	Here are the descriptions of the <b>9</b> instructions:
</p>
<table>
	<tr>
		<th>Type</th>
		<th>Instruction</th>
		<th>Description</th>
	</tr>
	<tr>
		<th rowspan="4">Action</th>
		<td>hop</td>
		<td>If the space ahead is empty, move forward, otherwise, do nothing.</td>
	</tr>
	<tr>
		<td>left</td>
		<td>Turn to face left.</td>
	</tr>
	<tr>
		<td>right</td>
		<td>Turn to face right.</td>
	</tr>
	<tr>
		<td>infect</td>
		<td>If the space ahead contains a creature of a different species, change that creature to be of your species, reset the program counter, but leave the direction unchanged, otherwise, do nothing.</td>
	</tr>
	<tr>
		<th rowspan="5">Control</th>
		<td>if_empty <b>n</b></td>
		<td>If the space ahead is empty, go to line <b>n</b>, otherwise, go to the next line.</td>
	</tr>
	<tr>
		<td>if_wall <b>n</b></td>
		<td>If the space ahead is a wall, go to line <b>n</b>, otherwise, go to the next line.</td>
	</tr>
	<tr>
		<td>if_random <b>n</b></td>
		<td>Randomly choose between going to line <b>n</b> or the next line. If <b>rand()</b> from <b>&lt;cstdlib&gt;</b> returns an <b>odd</b> number, go to line <b>n</b>. Call <b>srand(0)</b> at the start of every test case that uses <b>rand()</b>.</td>
	</tr>
	<tr>
		<td>if_enemy <b>n</b></td>
		<td>If the space ahead contains a creature of a different species, go to line <b>n</b>, otherwise, go to the next line.</td>
	</tr>
	<tr>
		<td>go <b>n</b></td>
		<td>Go to line <b>n</b>.</td>
	</tr>
</table>
<p>
	Create a good <b>OO</b> design by writing well-defined classes that are responsible for a specific and modular part of the solution. Avoid <b>getters</b>, <b>setters</b>, and <b>friends</b>, which are often signs of a bad design:
</p>
<p>
<a href="http://www.javaworld.com/javaworld/jw-09-2003/jw-0905-toolbox.html">Getters and Setters</a>
</p>
<p>
	You <b>must</b> design an <b>interface</b> for the various classes.
</p>
<p>
	The <b>interface</b> should be rich enough to be able to create the <b>best</b> creature without writing any code.
</p>
<p>
	I mean something like this:
</p>
<pre>
Species best;
best.addInstruction(...);
best.addInstruction(...);
...
Creature b1(best, ...);
Creature b2(best, ...);
...
Darwin x(72, 72);
x.addCreature(b1, ...);
x.addCreature(b2, ...);
...
</pre>
<p>
	Create a <b>UML</b> diagram to represent the design. Use any <b>UML</b> editor that you like. The diagram <b>only</b> needs to show the associations and multiplicity between the classes.
</p>
<p>
	You <b>may not</b> use <b>new</b>, <b>delete</b>, <b>malloc()</b> or <b>free()</b>. You <b>may</b> use the <b>STL</b>.
</p>
<h3>
	Analysis
</h3>
<hr />
<p>
	These are additional descriptions of the underlying math:
</p>
<ul>
	<li><a href="http://users.dickinson.edu/~braught/NSFIntegrating/course/labs/darwin/handout.html">Dickinson</a></li>
	<li><a href="http://www.cs.duke.edu/~ola/darwin.html">Duke</a></li>
	<li><a href="http://nifty.stanford.edu/darwin/">Stanford</a></li>
</ul>
<h3>
	Requirements
</h3>
<hr />
<ol>
	<li>Estimate time to completion.</li>
	<li>Create a <b>private Git repository</b> at <b>GitHub</b>, named <b>cs371p-darwin</b>.</li>
	<li>Add <b>at least 10</b> of these <b>requirements</b> as <b>issues</b> to the <b>issue tracker</b> at <b>GitHub</b>.<br />
	Add <b>at least 10</b> more issues, one for each <b>bug</b> or <b>feature</b>, both open and closed with a good description and a <b>label</b>.</li>
	<li>Invite the graders to your <b>private code repo</b>.</li>
	<li>Clone your <b>private code repo</b> onto <b>your local directory</b>.</li>
	<li>Make at least <b>5 commits</b>, one for each <b>bug</b> or <b>feature</b>.<br />
	If you cannot describe your changes in a sentence, you are not committing often enough.<br />
	Make meaningful commit messages identifying the corresponding <b>issue</b> in the <b>issue tracker</b> (see <a href="https://help.github.com/articles/closing-issues-via-commit-messages">closing issues via commit messages</a>).</li>
	<li>Write <b>unit tests</b> in <b>TestDarwin.c++</b> that test <b>corner cases</b> and <b>failure cases</b> until you have at least an <b>average of 3 tests</b> for each method, confirm the expected <b>failures</b>, and add, commit, and push to the <b>private code repo</b>.</li>
	<li>Implement and debug the <b>simplest possible solution</b> in <b>Darwin.h</b> and <b>Darwin.c++</b> with assertions that check <b>pre-conditions</b>, <b>post-conditions</b>, <b>argument validity</b>, and <b>return-value validity</b>, until all tests pass, and add, commit, and push to the <b>private code repo</b>.</li>
	<li>Clone the <b>public test repo</b> onto <b>your local directory</b>.<br />
	<span style="color: red">It is <b>critical</b> that you clone the <b>public test repo</b> into a <b>different directory</b> than the one you're using for your <b>private code repo</b>.</span></li>
	<li>Copy your <b>unit tests</b> and your <b>acceptance tests</b> to your <b>clone</b> of the <b>public test repo</b>, rename the files, do a <b>git pull</b> to synchronize your <b>clone</b>, and then add, commit and push to the <b>public test repo</b>.<br />
	<span style="color: red">The files <b>MUST</b> be named <b>EID-RunDarwin.out</b>, <b>EID-TestDarwin.c++</b>, and <b>EID-TestDarwin.out</b> in the <b>public test repo</b>.</span></li>
	<li>Create the <b>UML</b> diagram.</li>
	<li>Run <b>Doxygen</b>, which will create <b>html/</b>, that then documents the <b>interfaces</b> to your functions.<br />
	Create <b>inline comments</b> if you need to explain the <b>why</b> of a particular implementation.<br />
	Use a consistent <b>coding convention</b> with good variable names, good indentation, blank lines, and blank spaces.</li>
	<li>Create a <b>log</b> of your <b>commits</b> in <b>Darwin.log</b>.</li>
	<li>Obtain the <b>git SHA</b> with
	<pre>git rev-parse HEAD</pre>
	</li>
	<li>Fill in the <b>Google Form</b>.</li>
	<li><span style="color: red">It is <b>your</b> responsibility to protect your code from the rest of the students in the class. If your code gets out, <b>you</b> are as guilty as the recipient of <b>academic dishonesty</b>.</span></li>
</ol>
<h3>
	Requirements for getting a non-zero grade.
</h3>
<hr />
<ol>
	<li><span style="color: red"><b>[&nbsp;&nbsp;5 pts]</b></span> <b>GitHub private repo</b> with <b>graders</b> invited as <b>collaborator</b> and a <b>log</b> of the <b>commits</b>.</li>
	<li><span style="color: red"><b>[&nbsp;&nbsp;5 pts]</b></span> <b>GitHub issue tracker</b> with <b>issues</b> from <b>requirements</b> and <b>more</b>.</li>
	<li><span style="color: red"><b>[15 pts]</b></span> Well designed <b>OO</b> solution with assertions that check <b>pre-conditions</b>, <b>post-conditions</b>, <b>argument validity</b>, and <b>return-value validity</b>.</li>
	<li><span style="color: red"><b>[15 pts]</b></span> At least an <b>average of 3 tests</b> per method <b>with good coverage</b> in the <b>public test repo</b> with the <b>precise naming of the files</b>.</li>
	<li><span style="color: red"><b>[15 pts]</b></span> <b>Acceptance tests</b> in the <b>public test repo</b> with the <b>precise naming of the files</b>.</li>
	<li><span style="color: red"><b>[&nbsp;&nbsp;5 pts]</b></span> <b>UML</b> diagram.</li>
	<li><span style="color: red"><b>[&nbsp;&nbsp;5 pts]</b></span> <b>Doxygen</b> documentation.</li>
	<li><span style="color: red"><b>[&nbsp;&nbsp;5 pts]</b></span> <b>Google Form</b> with <b>time estimate</b>.</li>
</ol>
<h3>
	Bonuses
</h3>
<hr />
<ul>
    <li>You can earn an additional <b>5 bonus pts</b>, if your <b>best</b> creature outnumbers <b>all</b> other species.</li>
	<li>You can earn another <b>5 bonus pts</b>, if you work with a <b>partner</b> using <b>pair programming</b> and vouch for the fact that you worked on the project <b>together</b> for more than <b>75%</b> of the time.<br />
	Only <b>one</b> solution <b>must</b> be turned in for the <b>pair</b>. If <b>two</b> solutions are turned in, there will be a <b>10%</b> penalty, and the <b>later</b> one will be graded.</li>
	<li><b>Bonus pts</b> will <b>not</b> increase the <b>total score</b> beyond the <b>max</b> score.</li>
</ul>
<h3>
	Private Code Repo Files
</h3>
<hr />
<p>
	Place the following files, with these <b>exact</b> names, directly in <b>cs371p-darwin</b>, no subfolders:
</p>
<ol>
	<li>Darwin.h</li>
	<li>Darwin.c++</li>
	<li><a href="https://github.com/gpdowning/cs371p/blob/master/projects/darwin/RunDarwin.c++">RunDarwin.c++</a> (do <b>not</b> run <b>gcov</b>, do <b>not</b> run <b>valgrind</b>)</li>
	<li><a href="https://github.com/gpdowning/cs371p/blob/master/projects/darwin/RunDarwin.out.txt">RunDarwin.out</a> (no <b>gcov</b> output, no <b>valgrind</b> output)</li>
	<li>TestDarwin.c++ (average of of at least <b>3 unit tests</b> per method, run <b>gcov</b>, run <b>valgrind</b>)</li>
	<li>TestDarwin.out (include <b>gcov</b> output, include <b>valgrind</b> output)</li>
    <li>Darwin.pdf (<b>UML</b> diagram)</li>
	<li>html/ (output of <b>Doxygen</b>)</li>
	<li>Darwin.log (output of <b>git log</b>)</li>
	<li><a href="https://github.com/gpdowning/cs371p/blob/master/projects/darwin/gitignore.txt">gitignore.txt</a> (rename <b>.gitignore</b>, for your use only, no need to submit)</li>
	<li><a href="https://github.com/gpdowning/cs371p/blob/master/projects/darwin/makefile">makefile</a> (for your use only, no need to submit)</li>
</ol>
<h3>
	Public Test Repo Files
</h3>
<hr />
<p>
	Place the following files, with these <b>exact</b> names, directly in <b>cs371p-fall-2014/darwin-tests/</b>, no subfolders:
</p>
<ol>
	<li><b>EID</b>-RunDarwin.out (no <b>gcov</b> output, no <b>valgrind</b> output)</li>
	<li><b>EID</b>-TestDarwin.c++ ((at least an <b>average of 3 tests</b> per method, run <b>gcov</b>, run <b>valgrind</b>)</li>
	<li><b>EID</b>-TestDarwin.out (include <b>gcov</b> output, include <b>valgrind</b> output)</li>
</ol>
<h3>
	Tools
</h3>
<hr />
<ul>
	<li><a href="http://www.stack.nl/~dimitri/doxygen/">Doxygen</a></li>
	<li><a href="http://gcc.gnu.org/onlinedocs/gcc/Gcov.html">Gcov</a></li>
	<li><a href="http://www.git-scm.com">Git</a></li>
	<li><a href="https://education.github.com">GitHub</a></li>
    <li><a href="http://www.gliffy.com">Gliffy</a></li>
	<li><a href="https://code.google.com/p/googletest/">Google Test</a></li>
	<li><a href="http://www.valgrind.org">Valgrind</a></li>
    <li><a href="http://www.yuml.me">yUML</a></li>
</ul>
<h3>
	Guides
</h3>
<hr />
<ul>
	<li><a href="http://git-scm.com/docs/gitignore/">.gitignore</a></li>
	<li><a href="https://www.atlassian.com/git/tutorials/">Atlassian Git Tutorials</a></li>
	<li><a href="http://www.git-tower.com/blog/git-cheat-sheet/">Git Cheat Sheet</a></li>
	<li><a href="https://help.github.com/articles/generating-ssh-keys">Git Generating SSH Keys</a></li>
	<li><a href="http://rogerdudler.github.io/git-guide/">Git Guides</a></li>
	<li><a href="http://gitimmersion.com">Git Immersion</a></li>
	<li><a href="http://gitref.org">Git Reference</a></li>
	<li><a href="https://guides.github.com">GitHub Guides</a></li>
	<li><a href="http://google-styleguide.googlecode.com/svn/trunk/cppguide.xml">Google C++ Style Guide</a></li>
	<li><a href="https://try.github.io">Try GitHub</a></li>
</ul>
<h3>
	Graders
</h3>
<hr />
<table>
	<tr>
		<th>Name</th>
		<th>GitHub ID</th>
		<th>GitHub Test Repository</th>
		<th>Google Form</th>
	</tr>
	<tr>
		<td>Henry Chen</td>
		<td>chukhinhenry</td>
		<td rowspan="4"><a href="https://github.com/cs371p-fall-2014/darwin-tests/">darwin-tests</a></td>
		<td rowspan="4"><a href="https://docs.google.com/forms/d/1wH1cAcS7yO26kgboJJiWvSfQfR3CoY-X0NssT5i-5zc/viewform">Google Form</a></td>
	</tr>
	<tr>
		<td>Sam Thompson</td>
		<td>st028</td>
	</tr>
	<tr>
		<td>Thanh Nguyen</td>
		<td>thanhcs</td>
	</tr>
	<tr>
		<td>Tyler Hunt</td>
		<td>tylershunt</td>
	</tr>
</table>
</body>
</html>
